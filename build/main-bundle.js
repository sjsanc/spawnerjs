/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/classes/spawner.ts":
/*!********************************!*\
  !*** ./src/classes/spawner.ts ***!
  \********************************/
/***/ (function(__unused_webpack_module, exports) {


//  .d8888.d8888b. .d8b. db   d8b   dbd8b   dbd88888bd8888b.   d88b.d8888.
//  88'  YP88  `8Dd8' `8b88   I8I   88888o  8888'    88  `8D   `8P'88'  YP
//  `8bo.  88oodD'88ooo8888   I8I   8888V8o 8888ooooo88oobY'    88 `8bo.
//    `Y8b.88~~~  88~~~88Y8   I8I   8888 V8o8888~~~~~88`8b      88   `Y8b.
//  db   8D88     88   88`8b d8'8b d8'88  V88888.    88 `88.db. 88 db   8D
//  `8888Y'88     YP   YP `8b8' `8d8' VP   V8PY88888P88   YDY8888P `8888Y'
var __spreadArray = (this && this.__spreadArray) || function (to, from) {
    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)
        to[j] = from[i];
    return to;
};
Object.defineProperty(exports, "__esModule", ({ value: true }));
exports.SpawnerStore = exports.SpawnChain = exports.Spawner = void 0;
// NOTES
// Conditional Rendering -- currently half-scaffolded.
// Not sure if it's possible to do realistically without a Shadow DOM implementation
// Current aim is to insert placeholder References where an element that has failed
// it's condition should go, then insert/replace using the placeholder index on
// condition update.
// =============================================================================== //
// Spawner
// =============================================================================== //
var Spawner = /** @class */ (function () {
    function Spawner(rootEntry) {
        this._refStore = []; // array for storing existing referneces
        this._rootEntry = rootEntry; // document entrypoint
        this._spawnerRootContext = null; // unusued
        this._spawnerRootBuildList = []; // the flat root SpawnChain
    }
    // SpawnStore intialiser
    Spawner.prototype.store = function (initialState) {
        var store = new SpawnerStore(this, initialState);
        this._stateStore = store;
        return store;
    };
    Spawner.prototype.create = function (props, attributes) {
        if (attributes == undefined) {
            return new SpawnChain(this, props, {}, this._rootEntry);
        }
        else {
            return new SpawnChain(this, props, attributes, this._rootEntry);
        }
    };
    Spawner.prototype._redraw = function () {
        console.log(this._spawnerRootBuildList);
        console.log(this._refStore);
        // this._rootEntry.innerText = "";
        // this._build(this._spawnerRootBuildList, this._rootEntry);
    };
    // Saves the reference between a Store prop and DOM element
    Spawner.prototype._saveRef = function (ref) {
        this._refStore.push(ref);
    };
    // Builds the DOM and returns a root element
    Spawner.prototype._build = function (buildList, root) {
        buildList.forEach(function (x) {
            if (x.dataset.display !== "0") {
                root.append(x);
            }
        });
        return root;
    };
    // Brings compiled SpawnChains from their host class into the Spawner buildchain
    Spawner.prototype._saveToRootBuildList = function (element) {
        this._spawnerRootBuildList = __spreadArray(__spreadArray([], this._spawnerRootBuildList), [element]);
    };
    Spawner.prototype.render = function () {
        this._rootEntry.append(this._spawnerRootContext);
    };
    return Spawner;
}());
exports.Spawner = Spawner;
// =============================================================================== //
// SpawnChain
// =============================================================================== //
var SpawnChain = /** @class */ (function () {
    function SpawnChain(parent, conditions, attributes, rootInsertion) {
        this._parentSpawner = parent;
        this._buildList = [];
        this._rootInsertion = rootInsertion;
        this._rootContext = this._create(conditions, attributes);
    }
    // Create an element
    SpawnChain.prototype._create = function (conditions, attributes) {
        var _a;
        var _this = this;
        if (attributes == undefined)
            attributes = {};
        var element = attributes["type"]
            ? document.createElement(attributes["type"])
            : document.createElement("div");
        var statefulAttributes = [];
        // Build element and create any references between state and attributes
        for (var _i = 0, _b = Object.entries(attributes); _i < _b.length; _i++) {
            var _c = _b[_i], key = _c[0], val = _c[1];
            if (typeof val == "object") {
                var stateName = Object.keys(val)[0];
                statefulAttributes.push((_a = {}, _a[key] = stateName, _a)); // { innerText: text }
                this._parentSpawner._saveRef({
                    stateName: stateName,
                    attr: key,
                    element: element,
                });
                element[key] = Object.values(val)[0];
            }
            else {
                element[key] = val;
            }
        }
        var checker = function (arr) {
            return arr.every(function (v) { return _this._parentSpawner._stateStore.getState(v) === true; });
        };
        // Check that all conditions eval to true;
        // if(checker(conditions) == false) {
        //     element.dataset.display = "0"
        // } else {
        conditions.forEach(function (condition) {
            var stateName = Object.keys(condition)[0];
            _this._parentSpawner._saveRef({
                stateName: stateName,
                renderDependency: true,
                element: element,
            });
        });
        this._buildList.push(element); // save this particular element
        this._parentSpawner._saveToRootBuildList(element);
        return element;
    };
    SpawnChain.prototype.append = function (conditions, attributes) {
        var _this = this;
        if (attributes.length == undefined) {
            var element = this._create(conditions, attributes);
            this._buildList.push(element);
            this._rootContext.append(element);
        }
        else {
            attributes.forEach(function (x) {
                var element = _this._create(conditions, x);
                _this._buildList.push(element);
                _this._rootContext.append(element);
            });
        }
        return this;
    };
    // Takes a SpawnChain and joins it to the parent one
    SpawnChain.prototype.nest = function (spawnChain) {
        this._rootContext.append(spawnChain._rootContext);
        this._buildList = __spreadArray(__spreadArray([], this._buildList), spawnChain._buildList);
        return this;
    };
    SpawnChain.prototype.end = function () {
        if (this._parentSpawner._spawnerRootContext == null) {
            this._parentSpawner._spawnerRootContext = this._rootContext;
        }
        else {
            this._parentSpawner._spawnerRootContext.append(this._rootContext);
        }
    };
    // Return the built SpawnChain
    SpawnChain.prototype.return = function () {
        return this._parentSpawner._build(this._buildList, this._rootContext);
    };
    return SpawnChain;
}());
exports.SpawnChain = SpawnChain;
// =============================================================================== //
// SpawnerStore
// =============================================================================== //
var SpawnerStore = /** @class */ (function () {
    function SpawnerStore(parent, initialState) {
        this._proxySetHandler = function (obj, prop, value) {
            obj[prop] = value;
            // this._reRender();
            return true;
        };
        this._state = {};
        this._parent = parent;
        var state = new Proxy(this._state, {
            get: this._proxyGetHandler,
            set: this._proxySetHandler,
        });
        // set the initial State
        Object.entries(initialState).map(function (x) {
            state[x[0]] = x[1];
        });
        this.state = state;
        return this;
    }
    SpawnerStore.prototype._proxyGetHandler = function (obj, prop, receiver) {
        var _a;
        return _a = {}, _a[prop] = obj[prop], _a;
    };
    SpawnerStore.prototype.createState = function (stateObj) {
        var _a = Object.entries(stateObj)[0], key = _a[0], val = _a[1];
        this.state[key] = val;
    };
    SpawnerStore.prototype.setState = function (stateObj) {
        var _this = this;
        var _a = Object.entries(stateObj)[0], key = _a[0], val = _a[1];
        if (key == undefined) {
            throw ReferenceError("Could not find state with key '" + key + "'. Check for typos.");
        }
        else {
            var currentVal = Object.values(this.state[key])[0];
            if (typeof val !== "object") {
                if (typeof currentVal !== typeof val) {
                    throw new TypeError("Cannot assign variable of type '" + typeof val + "' to state container of type '" + typeof currentVal + "'. State type cannot be mutated after initialising.");
                }
                else {
                    this.state[key] = val;
                    this._parent._refStore.forEach(function (ref) {
                        if (ref.stateName == key) {
                            ref.element[ref.attr] = Object.values(_this.state[key])[0];
                        }
                    });
                }
            }
        }
    };
    SpawnerStore.prototype.computeState = function (stateObj, callback) {
        var _a;
        var _b = Object.entries(stateObj)[0], key = _b[0], val = _b[1];
        this.setState((_a = {}, _a[key] = callback(val), _a));
    };
    SpawnerStore.prototype.getState = function (stateObj) {
        var _a = Object.entries(stateObj)[0], key = _a[0], val = _a[1];
        return val;
    };
    SpawnerStore.prototype.snapshot = function () {
        return this._state;
    };
    return SpawnerStore;
}());
exports.SpawnerStore = SpawnerStore;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3Bhd25lci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jbGFzc2VzL3NwYXduZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLDBFQUEwRTtBQUMxRSwwRUFBMEU7QUFDMUUsd0VBQXdFO0FBQ3hFLDBFQUEwRTtBQUMxRSwwRUFBMEU7QUFDMUUsMEVBQTBFOzs7Ozs7OztBQUUxRSxRQUFRO0FBQ1Isc0RBQXNEO0FBQ3RELG9GQUFvRjtBQUNwRixtRkFBbUY7QUFDbkYsK0VBQStFO0FBQy9FLG9CQUFvQjtBQUVwQixxRkFBcUY7QUFDckYsVUFBVTtBQUNWLHFGQUFxRjtBQUVyRjtJQU9FLGlCQUFZLFNBQVM7UUFDbkIsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUMsQ0FBQyx3Q0FBd0M7UUFDN0QsSUFBSSxDQUFDLFVBQVUsR0FBRyxTQUFTLENBQUMsQ0FBQyxzQkFBc0I7UUFDbkQsSUFBSSxDQUFDLG1CQUFtQixHQUFHLElBQUksQ0FBQyxDQUFDLFVBQVU7UUFDM0MsSUFBSSxDQUFDLHFCQUFxQixHQUFHLEVBQUUsQ0FBQyxDQUFDLDJCQUEyQjtJQUM5RCxDQUFDO0lBRUQsd0JBQXdCO0lBQ3hCLHVCQUFLLEdBQUwsVUFBTSxZQUFpQztRQUNyQyxJQUFNLEtBQUssR0FBRyxJQUFJLFlBQVksQ0FBQyxJQUFJLEVBQUUsWUFBWSxDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLFdBQVcsR0FBRyxLQUFLLENBQUM7UUFDekIsT0FBTyxLQUFLLENBQUM7SUFDZixDQUFDO0lBS0Qsd0JBQU0sR0FBTixVQUFPLEtBQVksRUFBRSxVQUFnQztRQUNuRCxJQUFJLFVBQVUsSUFBSSxTQUFTLEVBQUU7WUFDM0IsT0FBTyxJQUFJLFVBQVUsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7U0FDekQ7YUFBTTtZQUNMLE9BQU8sSUFBSSxVQUFVLENBQUMsSUFBSSxFQUFF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

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
var exports = __webpack_exports__;
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/

Object.defineProperty(exports, "__esModule", ({ value: true }));
var spawner_1 = __webpack_require__(/*! ./classes/spawner */ "./src/classes/spawner.ts");
var spawner = new spawner_1.Spawner(document.getElementById("app"));
var store = spawner.store({
    text: "hi!",
    isVisible: false,
});
store.createState({ number: 0 });
var state = store.state;
spawner
    .create([])
    .append([state.isVisible], {
    type: "div",
    style: "border: 2px solid black;",
    innerText: state.text,
})
    .append([], { type: "p", innerText: state.number })
    .append([], {
    innerText: "Click me",
    type: "button",
    onclick: function () {
        store.setState({ text: "Changed" });
    },
})
    .append([], { innerText: "I'm some boring text", type: "p" })
    .nest(spawner.create([], { type: "ul" }).append([], ["List 1", "List 2", "List 3"].map(function (li) { return ({
    type: "li",
    innerText: li,
}); })))
    .end();
var cb = function (state) {
    return state + 1;
};
store.computeState(state.number, cb);
setInterval(function () {
    store.computeState(state.number, cb);
}, 1000);
spawner._redraw();
spawner.render();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw2Q0FBNEM7QUFFNUMsSUFBTSxPQUFPLEdBQUcsSUFBSSxpQkFBTyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztBQUU1RCxJQUFNLEtBQUssR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDO0lBQzFCLElBQUksRUFBRSxLQUFLO0lBQ1gsU0FBUyxFQUFFLEtBQUs7Q0FDakIsQ0FBQyxDQUFDO0FBRUgsS0FBSyxDQUFDLFdBQVcsQ0FBQyxFQUFFLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0FBRXpCLElBQUEsS0FBSyxHQUFLLEtBQUssTUFBVixDQUFXO0FBRXhCLE9BQU87S0FDSixNQUFNLENBQUMsRUFBRSxDQUFDO0tBQ1YsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLFNBQVMsQ0FBQyxFQUFFO0lBQ3pCLElBQUksRUFBRSxLQUFLO0lBQ1gsS0FBSyxFQUFFLDBCQUEwQjtJQUNqQyxTQUFTLEVBQUUsS0FBSyxDQUFDLElBQUk7Q0FDdEIsQ0FBQztLQUNELE1BQU0sQ0FBQyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLFNBQVMsRUFBRSxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUM7S0FDbEQsTUFBTSxDQUFDLEVBQUUsRUFBRTtJQUNWLFNBQVMsRUFBRSxVQUFVO0lBQ3JCLElBQUksRUFBRSxRQUFRO0lBQ2QsT0FBTyxFQUFFO1FBQ1AsS0FBSyxDQUFDLFFBQVEsQ0FBQyxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsQ0FBQyxDQUFDO0lBQ3RDLENBQUM7Q0FDRixDQUFDO0tBQ0QsTUFBTSxDQUFDLEVBQUUsRUFBRSxFQUFFLFNBQVMsRUFBRSxzQkFBc0IsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUM7S0FDNUQsSUFBSSxDQUNILE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUMsTUFBTSxDQUN2QyxFQUFFLEVBQ0YsQ0FBQyxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxVQUFDLEVBQUUsSUFBSyxPQUFBLENBQUM7SUFDMUMsSUFBSSxFQUFFLElBQUk7SUFDVixTQUFTLEVBQUUsRUFBRTtDQUNkLENBQUMsRUFIeUMsQ0FHekMsQ0FBQyxDQUNKLENBQ0Y7S0FDQSxHQUFHLEVBQUUsQ0FBQztBQUVULElBQU0sRUFBRSxHQUFHLFVBQUMsS0FBSztJQUNmLE9BQU8sS0FBSyxHQUFHLENBQUMsQ0FBQztBQUNuQixDQUFDLENBQUM7QUFFRixLQUFLLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7QUFFckMsV0FBVyxDQUFDO0lBQ1YsS0FBSyxDQUFDLFlBQVksQ0FBQyxLQUFLLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ3ZDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUVULE9BQU8sQ0FBQyxPQUFPLEVBQUUsQ0FBQztBQUVsQixPQUFPLENBQUMsTUFBTSxFQUFFLENBQUMifQ==
})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcGF3bmVyanMvLi9zcmMvY2xhc3Nlcy9zcGF3bmVyLnRzIiwid2VicGFjazovL3NwYXduZXJqcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9zcGF3bmVyanMvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsUUFBUTtBQUM1RDtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsQ0FBQyxjQUFjLEVBQUM7QUFDN0Qsb0JBQW9CLEdBQUcsa0JBQWtCLEdBQUcsZUFBZTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCLG9DQUFvQztBQUNwQyx3Q0FBd0M7QUFDeEMsd0NBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCxnQkFBZ0I7QUFDekU7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELDRCQUE0QixLQUFLO0FBQ2pGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLDhEQUE4RCxFQUFFO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Qsc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELG9CQUFvQjtBQUNwQiwyQ0FBMkMsKzlSOzs7Ozs7VUMzTzNDO1VBQ0E7O1VBRUE7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7VUFDQTtVQUNBO1VBQ0E7O1VBRUE7VUFDQTs7VUFFQTtVQUNBO1VBQ0E7Ozs7Ozs7Ozs7QUN0QmE7QUFDYiw4Q0FBNkMsQ0FBQyxjQUFjLEVBQUM7QUFDN0QsZ0JBQWdCLG1CQUFPLENBQUMsbURBQW1CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELG1CQUFtQixZQUFZO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQSxDQUFDO0FBQ0QsaUJBQWlCLHFDQUFxQztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixrQkFBa0I7QUFDMUMsS0FBSztBQUNMLENBQUM7QUFDRCxpQkFBaUIsK0NBQStDO0FBQ2hFLDhCQUE4QixhQUFhLCtEQUErRDtBQUMxRztBQUNBO0FBQ0EsQ0FBQyxFQUFFLEVBQUU7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsMkNBQTJDLCs1RCIsImZpbGUiOiJtYWluLWJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuLy8gIC5kODg4OC5kODg4OGIuIC5kOGIuIGRiICAgZDhiICAgZGJkOGIgICBkYmQ4ODg4OGJkODg4OGIuICAgZDg4Yi5kODg4OC5cbi8vICA4OCcgIFlQODggIGA4RGQ4JyBgOGI4OCAgIEk4SSAgIDg4ODg4byAgODg4OCcgICAgODggIGA4RCAgIGA4UCc4OCcgIFlQXG4vLyAgYDhiby4gIDg4b29kRCc4OG9vbzg4ODggICBJOEkgICA4ODg4VjhvIDg4ODhvb29vbzg4b29iWScgICAgODggYDhiby5cbi8vICAgIGBZOGIuODh+fn4gIDg4fn5+ODhZOCAgIEk4SSAgIDg4ODggVjhvODg4OH5+fn5+ODhgOGIgICAgICA4OCAgIGBZOGIuXG4vLyAgZGIgICA4RDg4ICAgICA4OCAgIDg4YDhiIGQ4JzhiIGQ4Jzg4ICBWODg4ODguICAgIDg4IGA4OC5kYi4gODggZGIgICA4RFxuLy8gIGA4ODg4WSc4OCAgICAgWVAgICBZUCBgOGI4JyBgOGQ4JyBWUCAgIFY4UFk4ODg4OFA4OCAgIFlEWTg4ODhQIGA4ODg4WSdcbnZhciBfX3NwcmVhZEFycmF5ID0gKHRoaXMgJiYgdGhpcy5fX3NwcmVhZEFycmF5KSB8fCBmdW5jdGlvbiAodG8sIGZyb20pIHtcbiAgICBmb3IgKHZhciBpID0gMCwgaWwgPSBmcm9tLmxlbmd0aCwgaiA9IHRvLmxlbmd0aDsgaSA8IGlsOyBpKyssIGorKylcbiAgICAgICAgdG9bal0gPSBmcm9tW2ldO1xuICAgIHJldHVybiB0bztcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlNwYXduZXJTdG9yZSA9IGV4cG9ydHMuU3Bhd25DaGFpbiA9IGV4cG9ydHMuU3Bhd25lciA9IHZvaWQgMDtcbi8vIE5PVEVTXG4vLyBDb25kaXRpb25hbCBSZW5kZXJpbmcgLS0gY3VycmVudGx5IGhhbGYtc2NhZmZvbGRlZC5cbi8vIE5vdCBzdXJlIGlmIGl0J3MgcG9zc2libGUgdG8gZG8gcmVhbGlzdGljYWxseSB3aXRob3V0IGEgU2hhZG93IERPTSBpbXBsZW1lbnRhdGlvblxuLy8gQ3VycmVudCBhaW0gaXMgdG8gaW5zZXJ0IHBsYWNlaG9sZGVyIFJlZmVyZW5jZXMgd2hlcmUgYW4gZWxlbWVudCB0aGF0IGhhcyBmYWlsZWRcbi8vIGl0J3MgY29uZGl0aW9uIHNob3VsZCBnbywgdGhlbiBpbnNlcnQvcmVwbGFjZSB1c2luZyB0aGUgcGxhY2Vob2xkZXIgaW5kZXggb25cbi8vIGNvbmRpdGlvbiB1cGRhdGUuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXG4vLyBTcGF3bmVyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXG52YXIgU3Bhd25lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTcGF3bmVyKHJvb3RFbnRyeSkge1xuICAgICAgICB0aGlzLl9yZWZTdG9yZSA9IFtdOyAvLyBhcnJheSBmb3Igc3RvcmluZyBleGlzdGluZyByZWZlcm5lY2VzXG4gICAgICAgIHRoaXMuX3Jvb3RFbnRyeSA9IHJvb3RFbnRyeTsgLy8gZG9jdW1lbnQgZW50cnlwb2ludFxuICAgICAgICB0aGlzLl9zcGF3bmVyUm9vdENvbnRleHQgPSBudWxsOyAvLyB1bnVzdWVkXG4gICAgICAgIHRoaXMuX3NwYXduZXJSb290QnVpbGRMaXN0ID0gW107IC8vIHRoZSBmbGF0IHJvb3QgU3Bhd25DaGFpblxuICAgIH1cbiAgICAvLyBTcGF3blN0b3JlIGludGlhbGlzZXJcbiAgICBTcGF3bmVyLnByb3RvdHlwZS5zdG9yZSA9IGZ1bmN0aW9uIChpbml0aWFsU3RhdGUpIHtcbiAgICAgICAgdmFyIHN0b3JlID0gbmV3IFNwYXduZXJTdG9yZSh0aGlzLCBpbml0aWFsU3RhdGUpO1xuICAgICAgICB0aGlzLl9zdGF0ZVN0b3JlID0gc3RvcmU7XG4gICAgICAgIHJldHVybiBzdG9yZTtcbiAgICB9O1xuICAgIFNwYXduZXIucHJvdG90eXBlLmNyZWF0ZSA9IGZ1bmN0aW9uIChwcm9wcywgYXR0cmlidXRlcykge1xuICAgICAgICBpZiAoYXR0cmlidXRlcyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3Bhd25DaGFpbih0aGlzLCBwcm9wcywge30sIHRoaXMuX3Jvb3RFbnRyeSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNwYXduQ2hhaW4odGhpcywgcHJvcHMsIGF0dHJpYnV0ZXMsIHRoaXMuX3Jvb3RFbnRyeSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNwYXduZXIucHJvdG90eXBlLl9yZWRyYXcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuX3NwYXduZXJSb290QnVpbGRMaXN0KTtcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5fcmVmU3RvcmUpO1xuICAgICAgICAvLyB0aGlzLl9yb290RW50cnkuaW5uZXJUZXh0ID0gXCJcIjtcbiAgICAgICAgLy8gdGhpcy5fYnVpbGQodGhpcy5fc3Bhd25lclJvb3RCdWlsZExpc3QsIHRoaXMuX3Jvb3RFbnRyeSk7XG4gICAgfTtcbiAgICAvLyBTYXZlcyB0aGUgcmVmZXJlbmNlIGJldHdlZW4gYSBTdG9yZSBwcm9wIGFuZCBET00gZWxlbWVudFxuICAgIFNwYXduZXIucHJvdG90eXBlLl9zYXZlUmVmID0gZnVuY3Rpb24gKHJlZikge1xuICAgICAgICB0aGlzLl9yZWZTdG9yZS5wdXNoKHJlZik7XG4gICAgfTtcbiAgICAvLyBCdWlsZHMgdGhlIERPTSBhbmQgcmV0dXJucyBhIHJvb3QgZWxlbWVudFxuICAgIFNwYXduZXIucHJvdG90eXBlLl9idWlsZCA9IGZ1bmN0aW9uIChidWlsZExpc3QsIHJvb3QpIHtcbiAgICAgICAgYnVpbGRMaXN0LmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIGlmICh4LmRhdGFzZXQuZGlzcGxheSAhPT0gXCIwXCIpIHtcbiAgICAgICAgICAgICAgICByb290LmFwcGVuZCh4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByb290O1xuICAgIH07XG4gICAgLy8gQnJpbmdzIGNvbXBpbGVkIFNwYXduQ2hhaW5zIGZyb20gdGhlaXIgaG9zdCBjbGFzcyBpbnRvIHRoZSBTcGF3bmVyIGJ1aWxkY2hhaW5cbiAgICBTcGF3bmVyLnByb3RvdHlwZS5fc2F2ZVRvUm9vdEJ1aWxkTGlzdCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX3NwYXduZXJSb290QnVpbGRMaXN0ID0gX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KFtdLCB0aGlzLl9zcGF3bmVyUm9vdEJ1aWxkTGlzdCksIFtlbGVtZW50XSk7XG4gICAgfTtcbiAgICBTcGF3bmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX3Jvb3RFbnRyeS5hcHBlbmQodGhpcy5fc3Bhd25lclJvb3RDb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBTcGF3bmVyO1xufSgpKTtcbmV4cG9ydHMuU3Bhd25lciA9IFNwYXduZXI7XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXG4vLyBTcGF3bkNoYWluXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXG52YXIgU3Bhd25DaGFpbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTcGF3bkNoYWluKHBhcmVudCwgY29uZGl0aW9ucywgYXR0cmlidXRlcywgcm9vdEluc2VydGlvbikge1xuICAgICAgICB0aGlzLl9wYXJlbnRTcGF3bmVyID0gcGFyZW50O1xuICAgICAgICB0aGlzLl9idWlsZExpc3QgPSBbXTtcbiAgICAgICAgdGhpcy5fcm9vdEluc2VydGlvbiA9IHJvb3RJbnNlcnRpb247XG4gICAgICAgIHRoaXMuX3Jvb3RDb250ZXh0ID0gdGhpcy5fY3JlYXRlKGNvbmRpdGlvbnMsIGF0dHJpYnV0ZXMpO1xuICAgIH1cbiAgICAvLyBDcmVhdGUgYW4gZWxlbWVudFxuICAgIFNwYXduQ2hhaW4ucHJvdG90eXBlLl9jcmVhdGUgPSBmdW5jdGlvbiAoY29uZGl0aW9ucywgYXR0cmlidXRlcykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzID09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIGF0dHJpYnV0ZXMgPSB7fTtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBhdHRyaWJ1dGVzW1widHlwZVwiXVxuICAgICAgICAgICAgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGF0dHJpYnV0ZXNbXCJ0eXBlXCJdKVxuICAgICAgICAgICAgOiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICB2YXIgc3RhdGVmdWxBdHRyaWJ1dGVzID0gW107XG4gICAgICAgIC8vIEJ1aWxkIGVsZW1lbnQgYW5kIGNyZWF0ZSBhbnkgcmVmZXJlbmNlcyBiZXR3ZWVuIHN0YXRlIGFuZCBhdHRyaWJ1dGVzXG4gICAgICAgIGZvciAodmFyIF9pID0gMCwgX2IgPSBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKTsgX2kgPCBfYi5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHZhciBfYyA9IF9iW19pXSwga2V5ID0gX2NbMF0sIHZhbCA9IF9jWzFdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0ZU5hbWUgPSBPYmplY3Qua2V5cyh2YWwpWzBdO1xuICAgICAgICAgICAgICAgIHN0YXRlZnVsQXR0cmlidXRlcy5wdXNoKChfYSA9IHt9LCBfYVtrZXldID0gc3RhdGVOYW1lLCBfYSkpOyAvLyB7IGlubmVyVGV4dDogdGV4dCB9XG4gICAgICAgICAgICAgICAgdGhpcy5fcGFyZW50U3Bhd25lci5fc2F2ZVJlZih7XG4gICAgICAgICAgICAgICAgICAgIHN0YXRlTmFtZTogc3RhdGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICBhdHRyOiBrZXksXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQ6IGVsZW1lbnQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZWxlbWVudFtrZXldID0gT2JqZWN0LnZhbHVlcyh2YWwpWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudFtrZXldID0gdmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBjaGVja2VyID0gZnVuY3Rpb24gKGFycikge1xuICAgICAgICAgICAgcmV0dXJuIGFyci5ldmVyeShmdW5jdGlvbiAodikgeyByZXR1cm4gX3RoaXMuX3BhcmVudFNwYXduZXIuX3N0YXRlU3RvcmUuZ2V0U3RhdGUodikgPT09IHRydWU7IH0pO1xuICAgICAgICB9O1xuICAgICAgICAvLyBDaGVjayB0aGF0IGFsbCBjb25kaXRpb25zIGV2YWwgdG8gdHJ1ZTtcbiAgICAgICAgLy8gaWYoY2hlY2tlcihjb25kaXRpb25zKSA9PSBmYWxzZSkge1xuICAgICAgICAvLyAgICAgZWxlbWVudC5kYXRhc2V0LmRpc3BsYXkgPSBcIjBcIlxuICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICBjb25kaXRpb25zLmZvckVhY2goZnVuY3Rpb24gKGNvbmRpdGlvbikge1xuICAgICAgICAgICAgdmFyIHN0YXRlTmFtZSA9IE9iamVjdC5rZXlzKGNvbmRpdGlvbilbMF07XG4gICAgICAgICAgICBfdGhpcy5fcGFyZW50U3Bhd25lci5fc2F2ZVJlZih7XG4gICAgICAgICAgICAgICAgc3RhdGVOYW1lOiBzdGF0ZU5hbWUsXG4gICAgICAgICAgICAgICAgcmVuZGVyRGVwZW5kZW5jeTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLl9idWlsZExpc3QucHVzaChlbGVtZW50KTsgLy8gc2F2ZSB0aGlzIHBhcnRpY3VsYXIgZWxlbWVudFxuICAgICAgICB0aGlzLl9wYXJlbnRTcGF3bmVyLl9zYXZlVG9Sb290QnVpbGRMaXN0KGVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9O1xuICAgIFNwYXduQ2hhaW4ucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChjb25kaXRpb25zLCBhdHRyaWJ1dGVzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChhdHRyaWJ1dGVzLmxlbmd0aCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5fY3JlYXRlKGNvbmRpdGlvbnMsIGF0dHJpYnV0ZXMpO1xuICAgICAgICAgICAgdGhpcy5fYnVpbGRMaXN0LnB1c2goZWxlbWVudCk7XG4gICAgICAgICAgICB0aGlzLl9yb290Q29udGV4dC5hcHBlbmQoZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhdHRyaWJ1dGVzLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IF90aGlzLl9jcmVhdGUoY29uZGl0aW9ucywgeCk7XG4gICAgICAgICAgICAgICAgX3RoaXMuX2J1aWxkTGlzdC5wdXNoKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIF90aGlzLl9yb290Q29udGV4dC5hcHBlbmQoZWxlbWVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIFRha2VzIGEgU3Bhd25DaGFpbiBhbmQgam9pbnMgaXQgdG8gdGhlIHBhcmVudCBvbmVcbiAgICBTcGF3bkNoYWluLnByb3RvdHlwZS5uZXN0ID0gZnVuY3Rpb24gKHNwYXduQ2hhaW4pIHtcbiAgICAgICAgdGhpcy5fcm9vdENvbnRleHQuYXBwZW5kKHNwYXduQ2hhaW4uX3Jvb3RDb250ZXh0KTtcbiAgICAgICAgdGhpcy5fYnVpbGRMaXN0ID0gX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KFtdLCB0aGlzLl9idWlsZExpc3QpLCBzcGF3bkNoYWluLl9idWlsZExpc3QpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFNwYXduQ2hhaW4ucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3BhcmVudFNwYXduZXIuX3NwYXduZXJSb290Q29udGV4dCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRTcGF3bmVyLl9zcGF3bmVyUm9vdENvbnRleHQgPSB0aGlzLl9yb290Q29udGV4dDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX3BhcmVudFNwYXduZXIuX3NwYXduZXJSb290Q29udGV4dC5hcHBlbmQodGhpcy5fcm9vdENvbnRleHQpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBSZXR1cm4gdGhlIGJ1aWx0IFNwYXduQ2hhaW5cbiAgICBTcGF3bkNoYWluLnByb3RvdHlwZS5yZXR1cm4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJlbnRTcGF3bmVyLl9idWlsZCh0aGlzLl9idWlsZExpc3QsIHRoaXMuX3Jvb3RDb250ZXh0KTtcbiAgICB9O1xuICAgIHJldHVybiBTcGF3bkNoYWluO1xufSgpKTtcbmV4cG9ydHMuU3Bhd25DaGFpbiA9IFNwYXduQ2hhaW47XG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09IC8vXG4vLyBTcGF3bmVyU3RvcmVcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gLy9cbnZhciBTcGF3bmVyU3RvcmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3Bhd25lclN0b3JlKHBhcmVudCwgaW5pdGlhbFN0YXRlKSB7XG4gICAgICAgIHRoaXMuX3Byb3h5U2V0SGFuZGxlciA9IGZ1bmN0aW9uIChvYmosIHByb3AsIHZhbHVlKSB7XG4gICAgICAgICAgICBvYmpbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgICAgIC8vIHRoaXMuX3JlUmVuZGVyKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fc3RhdGUgPSB7fTtcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICAgICAgICB2YXIgc3RhdGUgPSBuZXcgUHJveHkodGhpcy5fc3RhdGUsIHtcbiAgICAgICAgICAgIGdldDogdGhpcy5fcHJveHlHZXRIYW5kbGVyLFxuICAgICAgICAgICAgc2V0OiB0aGlzLl9wcm94eVNldEhhbmRsZXIsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBzZXQgdGhlIGluaXRpYWwgU3RhdGVcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoaW5pdGlhbFN0YXRlKS5tYXAoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHN0YXRlW3hbMF1dID0geFsxXTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIFNwYXduZXJTdG9yZS5wcm90b3R5cGUuX3Byb3h5R2V0SGFuZGxlciA9IGZ1bmN0aW9uIChvYmosIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIF9hID0ge30sIF9hW3Byb3BdID0gb2JqW3Byb3BdLCBfYTtcbiAgICB9O1xuICAgIFNwYXduZXJTdG9yZS5wcm90b3R5cGUuY3JlYXRlU3RhdGUgPSBmdW5jdGlvbiAoc3RhdGVPYmopIHtcbiAgICAgICAgdmFyIF9hID0gT2JqZWN0LmVudHJpZXMoc3RhdGVPYmopWzBdLCBrZXkgPSBfYVswXSwgdmFsID0gX2FbMV07XG4gICAgICAgIHRoaXMuc3RhdGVba2V5XSA9IHZhbDtcbiAgICB9O1xuICAgIFNwYXduZXJTdG9yZS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGVPYmopIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIF9hID0gT2JqZWN0LmVudHJpZXMoc3RhdGVPYmopWzBdLCBrZXkgPSBfYVswXSwgdmFsID0gX2FbMV07XG4gICAgICAgIGlmIChrZXkgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBSZWZlcmVuY2VFcnJvcihcIkNvdWxkIG5vdCBmaW5kIHN0YXRlIHdpdGgga2V5ICdcIiArIGtleSArIFwiJy4gQ2hlY2sgZm9yIHR5cG9zLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50VmFsID0gT2JqZWN0LnZhbHVlcyh0aGlzLnN0YXRlW2tleV0pWzBdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGN1cnJlbnRWYWwgIT09IHR5cGVvZiB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhc3NpZ24gdmFyaWFibGUgb2YgdHlwZSAnXCIgKyB0eXBlb2YgdmFsICsgXCInIHRvIHN0YXRlIGNvbnRhaW5lciBvZiB0eXBlICdcIiArIHR5cGVvZiBjdXJyZW50VmFsICsgXCInLiBTdGF0ZSB0eXBlIGNhbm5vdCBiZSBtdXRhdGVkIGFmdGVyIGluaXRpYWxpc2luZy5cIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlW2tleV0gPSB2YWw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhcmVudC5fcmVmU3RvcmUuZm9yRWFjaChmdW5jdGlvbiAocmVmKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVmLnN0YXRlTmFtZSA9PSBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWYuZWxlbWVudFtyZWYuYXR0cl0gPSBPYmplY3QudmFsdWVzKF90aGlzLnN0YXRlW2tleV0pWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNwYXduZXJTdG9yZS5wcm90b3R5cGUuY29tcHV0ZVN0YXRlID0gZnVuY3Rpb24gKHN0YXRlT2JqLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBfYiA9IE9iamVjdC5lbnRyaWVzKHN0YXRlT2JqKVswXSwga2V5ID0gX2JbMF0sIHZhbCA9IF9iWzFdO1xuICAgICAgICB0aGlzLnNldFN0YXRlKChfYSA9IHt9LCBfYVtrZXldID0gY2FsbGJhY2sodmFsKSwgX2EpKTtcbiAgICB9O1xuICAgIFNwYXduZXJTdG9yZS5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGVPYmopIHtcbiAgICAgICAgdmFyIF9hID0gT2JqZWN0LmVudHJpZXMoc3RhdGVPYmopWzBdLCBrZXkgPSBfYVswXSwgdmFsID0gX2FbMV07XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfTtcbiAgICBTcGF3bmVyU3RvcmUucHJvdG90eXBlLnNuYXBzaG90ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfTtcbiAgICByZXR1cm4gU3Bhd25lclN0b3JlO1xufSgpKTtcbmV4cG9ydHMuU3Bhd25lclN0b3JlID0gU3Bhd25lclN0b3JlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pYzNCaGQyNWxjaTVxY3lJc0luTnZkWEpqWlZKdmIzUWlPaUlpTENKemIzVnlZMlZ6SWpwYklpNHVMeTR1TDNOeVl5OWpiR0Z6YzJWekwzTndZWGR1WlhJdWRITWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklqdEJRVUZCTERCRlFVRXdSVHRCUVVNeFJTd3dSVUZCTUVVN1FVRkRNVVVzZDBWQlFYZEZPMEZCUTNoRkxEQkZRVUV3UlR0QlFVTXhSU3d3UlVGQk1FVTdRVUZETVVVc01FVkJRVEJGT3pzN096czdPenRCUVVVeFJTeFJRVUZSTzBGQlExSXNjMFJCUVhORU8wRkJRM1JFTEc5R1FVRnZSanRCUVVOd1JpeHRSa0ZCYlVZN1FVRkRia1lzSzBWQlFTdEZPMEZCUXk5RkxHOUNRVUZ2UWp0QlFVVndRaXh4UmtGQmNVWTdRVUZEY2tZc1ZVRkJWVHRCUVVOV0xIRkdRVUZ4Ump0QlFVVnlSanRKUVU5RkxHbENRVUZaTEZOQlFWTTdVVUZEYmtJc1NVRkJTU3hEUVVGRExGTkJRVk1zUjBGQlJ5eEZRVUZGTEVOQlFVTXNRMEZCUXl4M1EwRkJkME03VVVGRE4wUXNTVUZCU1N4RFFVRkRMRlZCUVZVc1IwRkJSeXhUUVVGVExFTkJRVU1zUTBGQlF5eHpRa0ZCYzBJN1VVRkRia1FzU1VGQlNTeERRVUZETEcxQ1FVRnRRaXhIUVVGSExFbEJRVWtzUTBGQlF5eERRVUZETEZWQlFWVTdVVUZETTBNc1NVRkJTU3hEUVVGRExIRkNRVUZ4UWl4SFFVRkhMRVZCUVVVc1EwRkJReXhEUVVGRExESkNRVUV5UWp0SlFVTTVSQ3hEUVVGRE8wbEJSVVFzZDBKQlFYZENPMGxCUTNoQ0xIVkNRVUZMTEVkQlFVd3NWVUZCVFN4WlFVRnBRenRSUVVOeVF5eEpRVUZOTEV0QlFVc3NSMEZCUnl4SlFVRkpMRmxCUVZrc1EwRkJReXhKUVVGSkxFVkJRVVVzV1VGQldTeERRVUZETEVOQlFVTTdVVUZEYmtRc1NVRkJTU3hEUVVGRExGZEJRVmNzUjBGQlJ5eExRVUZMTEVOQlFVTTdVVUZEZWtJc1QwRkJUeXhMUVVGTExFTkJRVU03U1VGRFppeERRVUZETzBsQlMwUXNkMEpCUVUwc1IwRkJUaXhWUVVGUExFdEJRVmtzUlVGQlJTeFZRVUZuUXp0UlFVTnVSQ3hKUVVGSkxGVkJRVlVzU1VGQlNTeFRRVUZUTEVWQlFVVTdXVUZETTBJc1QwRkJUeXhKUVVGSkxGVkJRVlVzUTBGQlF5eEpRVUZKTEVWQlFVVXNTMEZCU3l4RlFVRkZMRVZCUVVVc1JVRkJSU3hKUVVGSkxFTkJRVU1zVlVGQlZTeERRVUZETEVOQlFVTTdVMEZEZWtRN1lVRkJUVHRaUVVOTUxFOUJRVThzU1VGQlNTeFZRVUZWTEVOQlFVTXNTVUZCU1N4RlFVRkZMRXRCUVVzc1JVRkJSU3hWUVVGVkxFVkJRVVVzU1VGQlNTeERRVUZETEZWQlFWVXNRMEZCUXl4RFFVRkRPMU5CUTJwRk8wbEJRMGdzUTBGQlF6dEpRVVZFTEhsQ1FVRlBMRWRCUVZBN1VVRkRSU3hQUVVGUExFTkJRVU1zUjBGQlJ5eERRVUZETEVsQlFVa3NRMEZCUXl4eFFrRkJjVUlzUTBGQlF5eERRVUZETzFGQlEzaERMRTlCUVU4c1EwRkJReXhIUVVGSExFTkJRVU1zU1VGQlNTeERRVUZETEZOQlFWTXNRMEZCUXl4RFFVRkRPMUZCUXpWQ0xHdERRVUZyUXp0UlFVTnNReXcwUkVGQk5FUTdTVUZET1VRc1EwRkJRenRKUVVWRUxESkVRVUV5UkR0SlFVTXpSQ3d3UWtGQlVTeEhRVUZTTEZWQlFWTXNSMEZCVVR0UlFVTm1MRWxCUVVrc1EwRkJReXhUUVVGVExFTkJRVU1zU1VGQlNTeERRVUZETEVkQlFVY3NRMEZCUXl4RFFVRkRPMGxCUXpOQ0xFTkJRVU03U1VGRlJDdzBRMEZCTkVNN1NVRkROVU1zZDBKQlFVMHNSMEZCVGl4VlFVRlBMRk5CUVhkQ0xFVkJRVVVzU1VGQmFVSTdVVUZEYUVRc1UwRkJVeXhEUVVGRExFOUJRVThzUTBGQlF5eFZRVUZETEVOQlFVTTdXVUZEYkVJc1NVRkJTU3hEUVVGRExFTkJRVU1zVDBGQlR5eERRVUZETEU5QlFVOHNTMEZCU3l4SFFVRkhMRVZCUVVVN1owSkJRemRDTEVsQlFVa3NRMEZCUXl4TlFVRk5MRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU03WVVGRGFFSTdVVUZEU0N4RFFVRkRMRU5CUVVNc1EwRkJRenRSUVVOSUxFOUJRVThzU1VGQlNTeERRVUZETzBsQlEyUXNRMEZCUXp0SlFVVkVMR2RHUVVGblJqdEpRVU5vUml4elEwRkJiMElzUjBGQmNFSXNWVUZCY1VJc1QwRkJiMEk3VVVGRGRrTXNTVUZCU1N4RFFVRkRMSEZDUVVGeFFpeHRRMEZCVHl4SlFVRkpMRU5CUVVNc2NVSkJRWEZDTEVsQlFVVXNUMEZCVHl4RlFVRkRMRU5CUVVNN1NVRkRlRVVzUTBGQlF6dEpRVVZFTEhkQ1FVRk5MRWRCUVU0N1VVRkRSU3hKUVVGSkxFTkJRVU1zVlVGQlZTeERRVUZETEUxQlFVMHNRMEZCUXl4SlFVRkpMRU5CUVVNc2JVSkJRVzFDTEVOQlFVTXNRMEZCUXp0SlFVTnVSQ3hEUVVGRE8wbEJRMGdzWTBGQlF6dEJRVUZFTEVOQlFVTXNRVUU1UkVRc1NVRTRSRU03UVVFNVJGa3NNRUpCUVU4N1FVRm5SWEJDTEhGR1FVRnhSanRCUVVOeVJpeGhRVUZoTzBGQlEySXNjVVpCUVhGR08wRkJSWEpHTzBsQlRVVXNiMEpCUVZrc1RVRkJUU3hGUVVGRkxGVkJRVlVzUlVGQlJTeFZRVUZWTEVWQlFVVXNZVUZCWVR0UlFVTjJSQ3hKUVVGSkxFTkJRVU1zWTBGQll5eEhRVUZITEUxQlFVMHNRMEZCUXp0UlFVTTNRaXhKUVVGSkxFTkJRVU1zVlVGQlZTeEhRVUZITEVWQlFVVXNRMEZCUXp0UlFVTnlRaXhKUVVGSkxFTkJRVU1zWTBGQll5eEhRVUZITEdGQlFXRXNRMEZCUXp0UlFVTndReXhKUVVGSkxFTkJRVU1zV1VGQldTeEhRVUZITEVsQlFVa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1ZVRkJWU3hGUVVGRkxGVkJRVlVzUTBGQlF5eERRVUZETzBsQlF6TkVMRU5CUVVNN1NVRkZSQ3h2UWtGQmIwSTdTVUZEV2l3MFFrRkJUeXhIUVVGbUxGVkJRMFVzVlVGQmEwSXNSVUZEYkVJc1ZVRkJaME03TzFGQlJteERMR2xDUVdsRVF6dFJRVGREUXl4SlFVRkpMRlZCUVZVc1NVRkJTU3hUUVVGVE8xbEJRVVVzVlVGQlZTeEhRVUZITEVWQlFVVXNRMEZCUXp0UlFVVTNReXhKUVVGTkxFOUJRVThzUjBGQlowSXNWVUZCVlN4RFFVRkRMRTFCUVUwc1EwRkJRenRaUVVNM1F5eERRVUZETEVOQlFVTXNVVUZCVVN4RFFVRkRMR0ZCUVdFc1EwRkJReXhWUVVGVkxFTkJRVU1zVFVGQlRTeERRVUZETEVOQlFVTTdXVUZETlVNc1EwRkJReXhEUVVGRExGRkJRVkVzUTBGQlF5eGhRVUZoTEVOQlFVTXNTMEZCU3l4RFFVRkRMRU5CUVVNN1VVRkZiRU1zU1VGQlNTeHJRa0ZCYTBJc1IwRkJiVUlzUlVGQlJTeERRVUZETzFGQlJUVkRMSFZGUVVGMVJUdFJRVU4yUlN4TFFVRjFRaXhWUVVFd1FpeEZRVUV4UWl4TFFVRkJMRTFCUVUwc1EwRkJReXhQUVVGUExFTkJRVU1zVlVGQlZTeERRVUZETEVWQlFURkNMR05CUVRCQ0xFVkJRVEZDTEVsQlFUQkNMRVZCUVVVN1dVRkJNVU1zU1VGQlFTeFhRVUZWTEVWQlFWUXNSMEZCUnl4UlFVRkJMRVZCUVVVc1IwRkJSeXhSUVVGQk8xbEJRMmhDTEVsQlFVa3NUMEZCVHl4SFFVRkhMRWxCUVVrc1VVRkJVU3hGUVVGRk8yZENRVU14UWl4SlFVRk5MRk5CUVZNc1IwRkJSeXhOUVVGTkxFTkJRVU1zU1VGQlNTeERRVUZETEVkQlFVY3NRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRE8yZENRVU4wUXl4clFrRkJhMElzUTBGQlF5eEpRVUZKTEZkQlFVY3NSMEZCUXl4SFFVRkhMRWxCUVVjc1UwRkJVeXhOUVVGSExFTkJRVU1zUTBGQlF5eHpRa0ZCYzBJN1owSkJRM0pGTEVsQlFVa3NRMEZCUXl4alFVRmpMRU5CUVVNc1VVRkJVU3hEUVVGRE8yOUNRVU16UWl4VFFVRlRMRVZCUVVVc1UwRkJVenR2UWtGRGNFSXNTVUZCU1N4RlFVRkZMRWRCUVVjN2IwSkJRMVFzVDBGQlR5eEZRVUZGTEU5QlFVODdhVUpCUTJwQ0xFTkJRVU1zUTBGQlF6dG5Ra0ZEU0N4UFFVRlBMRU5CUVVNc1IwRkJSeXhEUVVGRExFZEJRVWNzVFVGQlRTeERRVUZETEUxQlFVMHNRMEZCUXl4SFFVRkhMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF6dGhRVU4wUXp0cFFrRkJUVHRuUWtGRFRDeFBRVUZQTEVOQlFVTXNSMEZCUnl4RFFVRkRMRWRCUVVjc1IwRkJSeXhEUVVGRE8yRkJRM0JDTzFOQlEwWTdVVUZGUkN4SlFVRkpMRTlCUVU4c1IwRkJSeXhWUVVGRExFZEJRVWM3V1VGRGFFSXNUMEZCUVN4SFFVRkhMRU5CUVVNc1MwRkJTeXhEUVVGRExGVkJRVU1zUTBGQlF5eEpRVUZMTEU5QlFVRXNTMEZCU1N4RFFVRkRMR05CUVdNc1EwRkJReXhYUVVGWExFTkJRVU1zVVVGQlVTeERRVUZETEVOQlFVTXNRMEZCUXl4TFFVRkxMRWxCUVVrc1JVRkJjRVFzUTBGQmIwUXNRMEZCUXp0UlFVRjBSU3hEUVVGelJTeERRVUZETzFGQlJYcEZMREJEUVVFd1F6dFJRVU14UXl4eFEwRkJjVU03VVVGRGNrTXNiME5CUVc5RE8xRkJRM0JETEZkQlFWYzdVVUZGV0N4VlFVRlZMRU5CUVVNc1QwRkJUeXhEUVVGRExGVkJRVU1zVTBGQlV6dFpRVU16UWl4SlFVRk5MRk5CUVZNc1IwRkJSeXhOUVVGTkxFTkJRVU1zU1VGQlNTeERRVUZETEZOQlFWTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRE8xbEJRelZETEV0QlFVa3NRMEZCUXl4alFVRmpMRU5CUVVNc1VVRkJVU3hEUVVGRE8yZENRVU16UWl4VFFVRlRMRVZCUVVVc1UwRkJVenRuUWtGRGNFSXNaMEpCUVdkQ0xFVkJRVVVzU1VGQlNUdG5Ra0ZEZEVJc1QwRkJUeXhGUVVGRkxFOUJRVTg3WVVGRGFrSXNRMEZCUXl4RFFVRkRPMUZCUTB3c1EwRkJReXhEUVVGRExFTkJRVU03VVVGRlNDeEpRVUZKTEVOQlFVTXNWVUZCVlN4RFFVRkRMRWxCUVVrc1EwRkJReXhQUVVGUExFTkJRVU1zUTBGQlF5eERRVUZETEN0Q1FVRXJRanRSUVVNNVJDeEpRVUZKTEVOQlFVTXNZMEZCWXl4RFFVRkRMRzlDUVVGdlFpeERRVUZETEU5QlFVOHNRMEZCUXl4RFFVRkRPMUZCUld4RUxFOUJRVThzVDBGQlR5eERRVUZETzBsQlEycENMRU5CUVVNN1NVRkxSQ3d5UWtGQlRTeEhRVUZPTEZWQlFVOHNWVUZCYTBJc1JVRkJSU3hWUVVGblF6dFJRVUV6UkN4cFFrRmxRenRSUVdSRExFbEJRVWtzVlVGQlZTeERRVUZETEUxQlFVMHNTVUZCU1N4VFFVRlRMRVZCUVVVN1dVRkRiRU1zU1VGQlRTeFBRVUZQTEVkQlFVY3NTVUZCU1N4RFFVRkRMRTlCUVU4c1EwRkJReXhWUVVGVkxFVkJRVVVzVlVGQlZTeERRVUZETEVOQlFVTTdXVUZGY2tRc1NVRkJTU3hEUVVGRExGVkJRVlVzUTBGQlF5eEpRVUZKTEVOQlFVTXNUMEZCVHl4RFFVRkRMRU5CUVVNN1dVRkRPVUlzU1VGQlNTeERRVUZETEZsQlFWa3NRMEZCUXl4TlFVRk5MRU5CUVVNc1QwRkJUeXhEUVVGRExFTkJRVU03VTBGRGJrTTdZVUZCVFR0WlFVTk1MRlZCUVZVc1EwRkJReXhQUVVGUExFTkJRVU1zVlVGQlF5eERRVUZETzJkQ1FVTnVRaXhKUVVGTkxFOUJRVThzUjBGQlJ5eExRVUZKTEVOQlFVTXNUMEZCVHl4RFFVRkRMRlZCUVZVc1JVRkJSU3hEUVVGRExFTkJRVU1zUTBGQlF6dG5Ra0ZGTlVNc1MwRkJTU3hEUVVGRExGVkJRVlVzUTBGQlF5eEpRVUZKTEVOQlFVTXNUMEZCVHl4RFFVRkRMRU5CUVVNN1owSkJRemxDTEV0QlFVa3NRMEZCUXl4WlFVRlpMRU5CUVVNc1RVRkJUU3hEUVVGRExFOUJRVThzUTBGQlF5eERRVUZETzFsQlEzQkRMRU5CUVVNc1EwRkJReXhEUVVGRE8xTkJRMG83VVVGRFJDeFBRVUZQTEVsQlFVa3NRMEZCUXp0SlFVTmtMRU5CUVVNN1NVRkZSQ3h2UkVGQmIwUTdTVUZEY0VRc2VVSkJRVWtzUjBGQlNpeFZRVUZMTEZWQlFYTkNPMUZCUTNwQ0xFbEJRVWtzUTBGQlF5eFpRVUZaTEVOQlFVTXNUVUZCVFN4RFFVRkRMRlZCUVZVc1EwRkJReXhaUVVGWkxFTkJRVU1zUTBGQlF6dFJRVU5zUkN4SlFVRkpMRU5CUVVNc1ZVRkJWU3h0UTBGQlR5eEpRVUZKTEVOQlFVTXNWVUZCVlN4SFFVRkxMRlZCUVZVc1EwRkJReXhWUVVGVkxFTkJRVU1zUTBGQlF6dFJRVU5xUlN4UFFVRlBMRWxCUVVrc1EwRkJRenRKUVVOa0xFTkJRVU03U1VGRlJDeDNRa0ZCUnl4SFFVRklPMUZCUTBVc1NVRkJTU3hKUVVGSkxFTkJRVU1zWTBGQll5eERRVUZETEcxQ1FVRnRRaXhKUVVGSkxFbEJRVWtzUlVGQlJUdFpRVU51UkN4SlFVRkpMRU5CUVVNc1kwRkJZeXhEUVVGRExHMUNRVUZ0UWl4SFFVRkhMRWxCUVVrc1EwRkJReXhaUVVGWkxFTkJRVU03VTBGRE4wUTdZVUZCVFR0WlFVTk1MRWxCUVVrc1EwRkJReXhqUVVGakxFTkJRVU1zYlVKQlFXMUNMRU5CUVVNc1RVRkJUU3hEUVVGRExFbEJRVWtzUTBGQlF5eFpRVUZaTEVOQlFVTXNRMEZCUXp0VFFVTnVSVHRKUVVOSUxFTkJRVU03U1VGRlJDdzRRa0ZCT0VJN1NVRkRPVUlzTWtKQlFVMHNSMEZCVGp0UlFVTkZMRTlCUVU4c1NVRkJTU3hEUVVGRExHTkJRV01zUTBGQlF5eE5RVUZOTEVOQlFVTXNTVUZCU1N4RFFVRkRMRlZCUVZVc1JVRkJSU3hKUVVGSkxFTkJRVU1zV1VGQldTeERRVUZETEVOQlFVTTdTVUZEZUVVc1EwRkJRenRKUVVOSUxHbENRVUZETzBGQlFVUXNRMEZCUXl4QlFYaEhSQ3hKUVhkSFF6dEJRWGhIV1N4blEwRkJWVHRCUVRCSGRrSXNjVVpCUVhGR08wRkJRM0pHTEdWQlFXVTdRVUZEWml4eFJrRkJjVVk3UVVGRmNrWTdTVUZMUlN4elFrRkJXU3hOUVVGbExFVkJRVVVzV1VGQmFVTTdVVUZyUWpsRUxIRkNRVUZuUWl4SFFVRkhMRlZCUVVNc1IwRkJSeXhGUVVGRkxFbEJRVWtzUlVGQlJTeExRVUZMTzFsQlEyeERMRWRCUVVjc1EwRkJReXhKUVVGSkxFTkJRVU1zUjBGQlJ5eExRVUZMTEVOQlFVTTdXVUZEYkVJc2IwSkJRVzlDTzFsQlEzQkNMRTlCUVU4c1NVRkJTU3hEUVVGRE8xRkJRMlFzUTBGQlF5eERRVUZETzFGQmNrSkJMRWxCUVVrc1EwRkJReXhOUVVGTkxFZEJRVWNzUlVGQlJTeERRVUZETzFGQlEycENMRWxCUVVrc1EwRkJReXhQUVVGUExFZEJRVWNzVFVGQlRTeERRVUZETzFGQlJYUkNMRWxCUVUwc1MwRkJTeXhIUVVGeFFpeEpRVUZKTEV0QlFVc3NRMEZCUXl4SlFVRkpMRU5CUVVNc1RVRkJUU3hGUVVGRk8xbEJRM0pFTEVkQlFVY3NSVUZCUlN4SlFVRkpMRU5CUVVNc1owSkJRV2RDTzFsQlF6RkNMRWRCUVVjc1JVRkJSU3hKUVVGSkxFTkJRVU1zWjBKQlFXZENPMU5CUXpOQ0xFTkJRVU1zUTBGQlF6dFJRVVZJTEhkQ1FVRjNRanRSUVVONFFpeE5RVUZOTEVOQlFVTXNUMEZCVHl4RFFVRkRMRmxCUVZrc1EwRkJReXhEUVVGRExFZEJRVWNzUTBGQlF5eFZRVUZETEVOQlFVTTdXVUZEYWtNc1MwRkJTeXhEUVVGRExFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXl4SFFVRkhMRU5CUVVNc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF6dFJRVU55UWl4RFFVRkRMRU5CUVVNc1EwRkJRenRSUVVWSUxFbEJRVWtzUTBGQlF5eExRVUZMTEVkQlFVY3NTMEZCU3l4RFFVRkRPMUZCUTI1Q0xFOUJRVThzU1VGQlNTeERRVUZETzBsQlEyUXNRMEZCUXp0SlFWRkVMSFZEUVVGblFpeEhRVUZvUWl4VlFVRnBRaXhIUVVGSExFVkJRVVVzU1VGQlNTeEZRVUZGTEZGQlFWRTdPMUZCUTJ4RExHZENRVUZUTEVkQlFVTXNTVUZCU1N4SlFVRkhMRWRCUVVjc1EwRkJReXhKUVVGSkxFTkJRVU1zUzBGQlJ6dEpRVU12UWl4RFFVRkRPMGxCUlVRc2EwTkJRVmNzUjBGQldDeFZRVUZsTEZGQlFUSkNPMUZCUTJ4RExFbEJRVUVzUzBGQllTeE5RVUZOTEVOQlFVTXNUMEZCVHl4RFFVRkRMRkZCUVZFc1EwRkJReXhEUVVGRExFTkJRVU1zUTBGQlF5eEZRVUYyUXl4SFFVRkhMRkZCUVVFc1JVRkJSU3hIUVVGSExGRkJRU3RDTEVOQlFVTTdVVUZETDBNc1NVRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eEhRVUZITEVOQlFVTXNSMEZCUnl4SFFVRkhMRU5CUVVNN1NVRkRlRUlzUTBGQlF6dEpRVVZFTEN0Q1FVRlJMRWRCUVZJc1ZVRkJXU3hSUVVFeVFqdFJRVUYyUXl4cFFrRjVRa003VVVGNFFrOHNTVUZCUVN4TFFVRmhMRTFCUVUwc1EwRkJReXhQUVVGUExFTkJRVU1zVVVGQlVTeERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRMRVZCUVhaRExFZEJRVWNzVVVGQlFTeEZRVUZGTEVkQlFVY3NVVUZCSzBJc1EwRkJRenRSUVVVdlF5eEpRVUZKTEVkQlFVY3NTVUZCU1N4VFFVRlRMRVZCUVVVN1dVRkRjRUlzVFVGQlRTeGpRVUZqTEVOQlEyeENMRzlEUVVGclF5eEhRVUZITEhkQ1FVRnhRaXhEUVVNelJDeERRVUZETzFOQlEwZzdZVUZCVFR0WlFVTk1MRWxCUVUwc1ZVRkJWU3hIUVVGSExFMUJRVTBzUTBGQlF5eE5RVUZOTEVOQlFVTXNTVUZCU1N4RFFVRkRMRXRCUVVzc1EwRkJReXhIUVVGSExFTkJRVU1zUTBGQlF5eERRVUZETEVOQlFVTXNRMEZCUXl4RFFVRkRPMWxCUlhKRUxFbEJRVWtzVDBGQlR5eEhRVUZITEV0QlFVc3NVVUZCVVN4RlFVRkZPMmRDUVVNelFpeEpRVUZKTEU5QlFVOHNWVUZCVlN4TFFVRkxMRTlCUVU4c1IwRkJSeXhGUVVGRk8yOUNRVU53UXl4TlFVRk5MRWxCUVVrc1UwRkJVeXhEUVVOcVFpeHhRMEZCYlVNc1QwRkJUeXhIUVVGSExITkRRVUZwUXl4UFFVRlBMRlZCUVZVc2QwUkJRWEZFTEVOQlEzSktMRU5CUVVNN2FVSkJRMGc3Y1VKQlFVMDdiMEpCUTB3c1NVRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eEhRVUZITEVOQlFVTXNSMEZCUnl4SFFVRkhMRU5CUVVNN2IwSkJRM1JDTEVsQlFVa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1UwRkJVeXhEUVVGRExFOUJRVThzUTBGQlF5eFZRVUZETEVkQlFVYzdkMEpCUTJwRExFbEJRVWtzUjBGQlJ5eERRVUZETEZOQlFWTXNTVUZCU1N4SFFVRkhMRVZCUVVVN05FSkJRM2hDTEVkQlFVY3NRMEZCUXl4UFFVRlBMRU5CUVVNc1IwRkJSeXhEUVVGRExFbEJRVWtzUTBGQlF5eEhRVUZITEUxQlFVMHNRMEZCUXl4TlFVRk5MRU5CUVVNc1MwRkJTU3hEUVVGRExFdEJRVXNzUTBGQlF5eEhRVUZITEVOQlFVTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1EwRkJReXhEUVVGRE8zbENRVU16UkR0dlFrRkRTQ3hEUVVGRExFTkJRVU1zUTBGQlF6dHBRa0ZEU2p0aFFVTkdPMU5CUTBZN1NVRkRTQ3hEUVVGRE8wbEJSVVFzYlVOQlFWa3NSMEZCV2l4VlFVRmhMRkZCUVZFc1JVRkJSU3hSUVVGUk96dFJRVU4yUWl4SlFVRkJMRXRCUVdFc1RVRkJUU3hEUVVGRExFOUJRVThzUTBGQlF5eFJRVUZSTEVOQlFVTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1JVRkJka01zUjBGQlJ5eFJRVUZCTEVWQlFVVXNSMEZCUnl4UlFVRXJRaXhEUVVGRE8xRkJReTlETEVsQlFVa3NRMEZCUXl4UlFVRlJMRmRCUVVjc1IwRkJReXhIUVVGSExFbEJRVWNzVVVGQlVTeERRVUZETEVkQlFVY3NRMEZCUXl4TlFVRkhMRU5CUVVNN1NVRkRNVU1zUTBGQlF6dEpRVVZFTEN0Q1FVRlJMRWRCUVZJc1ZVRkJXU3hSUVVFeVFqdFJRVU12UWl4SlFVRkJMRXRCUVdFc1RVRkJUU3hEUVVGRExFOUJRVThzUTBGQlF5eFJRVUZSTEVOQlFVTXNRMEZCUXl4RFFVRkRMRU5CUVVNc1JVRkJka01zUjBGQlJ5eFJRVUZCTEVWQlFVVXNSMEZCUnl4UlFVRXJRaXhEUVVGRE8xRkJReTlETEU5QlFVOHNSMEZCUnl4RFFVRkRPMGxCUTJJc1EwRkJRenRKUVVWRUxDdENRVUZSTEVkQlFWSTdVVUZEUlN4UFFVRlBMRWxCUVVrc1EwRkJReXhOUVVGTkxFTkJRVU03U1VGRGNrSXNRMEZCUXp0SlFVTklMRzFDUVVGRE8wRkJRVVFzUTBGQlF5eEJRVGxGUkN4SlFUaEZRenRCUVRsRldTeHZRMEZCV1NKOSIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciBzcGF3bmVyXzEgPSByZXF1aXJlKFwiLi9jbGFzc2VzL3NwYXduZXJcIik7XG52YXIgc3Bhd25lciA9IG5ldyBzcGF3bmVyXzEuU3Bhd25lcihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcFwiKSk7XG52YXIgc3RvcmUgPSBzcGF3bmVyLnN0b3JlKHtcbiAgICB0ZXh0OiBcImhpIVwiLFxuICAgIGlzVmlzaWJsZTogZmFsc2UsXG59KTtcbnN0b3JlLmNyZWF0ZVN0YXRlKHsgbnVtYmVyOiAwIH0pO1xudmFyIHN0YXRlID0gc3RvcmUuc3RhdGU7XG5zcGF3bmVyXG4gICAgLmNyZWF0ZShbXSlcbiAgICAuYXBwZW5kKFtzdGF0ZS5pc1Zpc2libGVdLCB7XG4gICAgdHlwZTogXCJkaXZcIixcbiAgICBzdHlsZTogXCJib3JkZXI6IDJweCBzb2xpZCBibGFjaztcIixcbiAgICBpbm5lclRleHQ6IHN0YXRlLnRleHQsXG59KVxuICAgIC5hcHBlbmQoW10sIHsgdHlwZTogXCJwXCIsIGlubmVyVGV4dDogc3RhdGUubnVtYmVyIH0pXG4gICAgLmFwcGVuZChbXSwge1xuICAgIGlubmVyVGV4dDogXCJDbGljayBtZVwiLFxuICAgIHR5cGU6IFwiYnV0dG9uXCIsXG4gICAgb25jbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICBzdG9yZS5zZXRTdGF0ZSh7IHRleHQ6IFwiQ2hhbmdlZFwiIH0pO1xuICAgIH0sXG59KVxuICAgIC5hcHBlbmQoW10sIHsgaW5uZXJUZXh0OiBcIkknbSBzb21lIGJvcmluZyB0ZXh0XCIsIHR5cGU6IFwicFwiIH0pXG4gICAgLm5lc3Qoc3Bhd25lci5jcmVhdGUoW10sIHsgdHlwZTogXCJ1bFwiIH0pLmFwcGVuZChbXSwgW1wiTGlzdCAxXCIsIFwiTGlzdCAyXCIsIFwiTGlzdCAzXCJdLm1hcChmdW5jdGlvbiAobGkpIHsgcmV0dXJuICh7XG4gICAgdHlwZTogXCJsaVwiLFxuICAgIGlubmVyVGV4dDogbGksXG59KTsgfSkpKVxuICAgIC5lbmQoKTtcbnZhciBjYiA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZSArIDE7XG59O1xuc3RvcmUuY29tcHV0ZVN0YXRlKHN0YXRlLm51bWJlciwgY2IpO1xuc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgIHN0b3JlLmNvbXB1dGVTdGF0ZShzdGF0ZS5udW1iZXIsIGNiKTtcbn0sIDEwMDApO1xuc3Bhd25lci5fcmVkcmF3KCk7XG5zcGF3bmVyLnJlbmRlcigpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pYVc1a1pYZ3Vhbk1pTENKemIzVnlZMlZTYjI5MElqb2lJaXdpYzI5MWNtTmxjeUk2V3lJdUxpOXpjbU12YVc1a1pYZ3VkSE1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJanM3UVVGQlFTdzJRMEZCTkVNN1FVRkZOVU1zU1VGQlRTeFBRVUZQTEVkQlFVY3NTVUZCU1N4cFFrRkJUeXhEUVVGRExGRkJRVkVzUTBGQlF5eGpRVUZqTEVOQlFVTXNTMEZCU3l4RFFVRkRMRU5CUVVNc1EwRkJRenRCUVVVMVJDeEpRVUZOTEV0QlFVc3NSMEZCUnl4UFFVRlBMRU5CUVVNc1MwRkJTeXhEUVVGRE8wbEJRekZDTEVsQlFVa3NSVUZCUlN4TFFVRkxPMGxCUTFnc1UwRkJVeXhGUVVGRkxFdEJRVXM3UTBGRGFrSXNRMEZCUXl4RFFVRkRPMEZCUlVnc1MwRkJTeXhEUVVGRExGZEJRVmNzUTBGQlF5eEZRVUZGTEUxQlFVMHNSVUZCUlN4RFFVRkRMRVZCUVVVc1EwRkJReXhEUVVGRE8wRkJSWHBDTEVsQlFVRXNTMEZCU3l4SFFVRkxMRXRCUVVzc1RVRkJWaXhEUVVGWE8wRkJSWGhDTEU5QlFVODdTMEZEU2l4TlFVRk5MRU5CUVVNc1JVRkJSU3hEUVVGRE8wdEJRMVlzVFVGQlRTeERRVUZETEVOQlFVTXNTMEZCU3l4RFFVRkRMRk5CUVZNc1EwRkJReXhGUVVGRk8wbEJRM3BDTEVsQlFVa3NSVUZCUlN4TFFVRkxPMGxCUTFnc1MwRkJTeXhGUVVGRkxEQkNRVUV3UWp0SlFVTnFReXhUUVVGVExFVkJRVVVzUzBGQlN5eERRVUZETEVsQlFVazdRMEZEZEVJc1EwRkJRenRMUVVORUxFMUJRVTBzUTBGQlF5eEZRVUZGTEVWQlFVVXNSVUZCUlN4SlFVRkpMRVZCUVVVc1IwRkJSeXhGUVVGRkxGTkJRVk1zUlVGQlJTeExRVUZMTEVOQlFVTXNUVUZCVFN4RlFVRkZMRU5CUVVNN1MwRkRiRVFzVFVGQlRTeERRVUZETEVWQlFVVXNSVUZCUlR0SlFVTldMRk5CUVZNc1JVRkJSU3hWUVVGVk8wbEJRM0pDTEVsQlFVa3NSVUZCUlN4UlFVRlJPMGxCUTJRc1QwRkJUeXhGUVVGRk8xRkJRMUFzUzBGQlN5eERRVUZETEZGQlFWRXNRMEZCUXl4RlFVRkZMRWxCUVVrc1JVRkJSU3hUUVVGVExFVkJRVVVzUTBGQlF5eERRVUZETzBsQlEzUkRMRU5CUVVNN1EwRkRSaXhEUVVGRE8wdEJRMFFzVFVGQlRTeERRVUZETEVWQlFVVXNSVUZCUlN4RlFVRkZMRk5CUVZNc1JVRkJSU3h6UWtGQmMwSXNSVUZCUlN4SlFVRkpMRVZCUVVVc1IwRkJSeXhGUVVGRkxFTkJRVU03UzBGRE5VUXNTVUZCU1N4RFFVTklMRTlCUVU4c1EwRkJReXhOUVVGTkxFTkJRVU1zUlVGQlJTeEZRVUZGTEVWQlFVVXNTVUZCU1N4RlFVRkZMRWxCUVVrc1JVRkJSU3hEUVVGRExFTkJRVU1zVFVGQlRTeERRVU4yUXl4RlFVRkZMRVZCUTBZc1EwRkJReXhSUVVGUkxFVkJRVVVzVVVGQlVTeEZRVUZGTEZGQlFWRXNRMEZCUXl4RFFVRkRMRWRCUVVjc1EwRkJReXhWUVVGRExFVkJRVVVzU1VGQlN5eFBRVUZCTEVOQlFVTTdTVUZETVVNc1NVRkJTU3hGUVVGRkxFbEJRVWs3U1VGRFZpeFRRVUZUTEVWQlFVVXNSVUZCUlR0RFFVTmtMRU5CUVVNc1JVRkllVU1zUTBGSGVrTXNRMEZCUXl4RFFVTktMRU5CUTBZN1MwRkRRU3hIUVVGSExFVkJRVVVzUTBGQlF6dEJRVVZVTEVsQlFVMHNSVUZCUlN4SFFVRkhMRlZCUVVNc1MwRkJTenRKUVVObUxFOUJRVThzUzBGQlN5eEhRVUZITEVOQlFVTXNRMEZCUXp0QlFVTnVRaXhEUVVGRExFTkJRVU03UVVGRlJpeExRVUZMTEVOQlFVTXNXVUZCV1N4RFFVRkRMRXRCUVVzc1EwRkJReXhOUVVGTkxFVkJRVVVzUlVGQlJTeERRVUZETEVOQlFVTTdRVUZGY2tNc1YwRkJWeXhEUVVGRE8wbEJRMVlzUzBGQlN5eERRVUZETEZsQlFWa3NRMEZCUXl4TFFVRkxMRU5CUVVNc1RVRkJUU3hGUVVGRkxFVkJRVVVzUTBGQlF5eERRVUZETzBGQlEzWkRMRU5CUVVNc1JVRkJSU3hKUVVGSkxFTkJRVU1zUTBGQlF6dEJRVVZVTEU5QlFVOHNRMEZCUXl4UFFVRlBMRVZCUVVVc1EwRkJRenRCUVVWc1FpeFBRVUZQTEVOQlFVTXNUVUZCVFN4RlFVRkZMRU5CUVVNaWZRPT0iXSwic291cmNlUm9vdCI6IiJ9